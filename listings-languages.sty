\ProvidesPackage{listings-languages}% Same as filename
% File to define listings style for various languages

% \RequirePackage{xcolor}
    \colorlet{commentcolour}{green!50!black}
    \colorlet{stringcolour}{red!60!black}
    \colorlet{keywordcolour}{magenta!90!black}
    \colorlet{exceptioncolour}{yellow!50!red}
    \colorlet{commandcolour}{blue!60!black}
    \colorlet{numpycolour}{blue!60!green}
    \colorlet{literatecolour}{magenta!90!black}
    \colorlet{promptcolour}{green!50!black}
    \colorlet{specmethodcolour}{violet}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Python
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% From https://github.com/olivierverdier/python-latex-highlighting/:
\newcommand*{\literatecolour}{%
    \textcolor{literatecolour}%
}%

\newcommand*{\pythonprompt}{%
    \textcolor{promptcolour}{{>}{>}{>}}%
}%

\lstdefinelanguage{CustomPython}[]{Python}{% {NewLanguage}[BaseDialect]{BaseLanguage}
    showtabs=true,
    tab=,
    stringstyle=\color{stringcolour},
    showstringspaces=false,
    alsoletter={1234567890},
    otherkeywords={\%, \}, \{, \&, \|},
    keywordstyle=\color{keywordcolour}\bfseries,
    emph={and,break,class,continue,def,yield,del,elif ,else,%
        except,exec,finally,for,from,global,if,import,in,%
        lambda,not,or,pass,print,raise,return,try,while,assert,with},
    emphstyle=\color{blue}\bfseries,
    emph={[2]True, False, None},
    emphstyle=[2]\color{keywordcolour},
    emph={[3]object,type,isinstance,copy,deepcopy,zip,enumerate,reversed,list,set,%
        len,dict,tuple,xrange,append,execfile,real,imag,reduce,str,repr},
    emphstyle=[3]\color{commandcolour},
    emph={Exception,NameError,IndexError,SyntaxError,TypeError,ValueError,%
        OverflowError,ZeroDivisionError},
    emphstyle=\color{exceptioncolour}\bfseries,
    %upquote=true,
    morecomment=[s]{"""}{"""},
    commentstyle=\color{commentcolour},%\itshape, Inconsolata can't do itshape
    %emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
    emph={[4]ode,fsolve,sqrt,exp,sin,cos,arctan,arctan2,arccos,pi,array,norm,solve,dot,%
        arange,isscalar,max,sum,flatten,shape,reshape,find,any,all,abs,plot,linspace,%
        legend,quad,polyval,polyfit,hstack,concatenate,vstack,column_stack,empty,zeros,%
        ones,rand,vander,grid,pcolor,eig,eigs,eigvals,svd,qr,tan,det,logspace,roll,min,%
        mean,cumsum,cumprod,diff,vectorize,lstsq,cla,eye,xlabel,ylabel,squeeze},
    emphstyle=[4]\color{numpycolour},
    emph={[5]__init__,__add__,__mul__,__div__,__sub__,__call__,__getitem__,__setitem__,%
        __eq__,__ne__,__nonzero__,__rmul__,__radd__,__repr__,__str__,__get__,%
        __truediv__,__pow__,__name__,__future__,__all__},
    emphstyle=[5]\color{specmethodcolour},
    emph={[6]assert,yield},
    emphstyle=[6]\color{keywordcolour}\bfseries,
    emph={[7]range},
    emphstyle={[7]\color{keywordcolour}\bfseries},
    literate=*%
        {:}{{\literatecolour:}}{1}%
        {=}{{\literatecolour=}}{1}%
        {-}{{\literatecolour-}}{1}%
        {+}{{\literatecolour+}}{1}%
        {*}{{\literatecolour*}}{1}%
        {**}{{\literatecolour{**}}}2%
        {/}{{\literatecolour/}}{1}%
        {//}{{\literatecolour{//}}}2%
        {!}{{\literatecolour!}}{1}%
        {[}{{\literatecolour[}}{1}%
        {]}{{\literatecolour]}}{1}%
        {<}{{\literatecolour<}}{1}%
        {>}{{\literatecolour>}}{1}%
        {>>>}{\pythonprompt}{3}%
    ,%
    rulecolor=\color{black!40},
    breakindent=.5\textwidth,
    breaklines=true,%
}
